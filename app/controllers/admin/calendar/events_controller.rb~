class Admin::Calendar::EventsController < ApplicationController

	def edit
		@event = Event.find(params[:id])
	end
	
	def new

	end

  def show
    @event = Event.find(params[:id])
    if request.xhr?
     	render :partial => 'show', :object=> @event 
    end
  end

  def create
    eventhash = self.setUpEventHash
    self.validate(eventhash)
  end

  def update
    @event = Event.find params[:id]
    @event.update_attributes!(params[:event])
    flash[:notice] = "#{@event.name} was successfully updated."
    redirect_to admin_calendar_event_path(@event)
  end

  def destroy
    @event = Event.find(params[:id])
    @event.destroy
    flash[:notice] = "event '#{@event.name}' deleted."
    redirect_to admin_calendar_path
  end
	
end
